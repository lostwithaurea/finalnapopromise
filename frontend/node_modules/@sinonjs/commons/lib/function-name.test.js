"use strict";

var jsc = require("jsverify");
var refute = require("@sinonjs/referee-sinon").refute;

var functionName = require("./function-name");

<<<<<<< HEAD
describe("function-name", function () {
    it("should return empty string if func is falsy", function () {
        jsc.assertForall("falsy", function (fn) {
=======
describe("function-name", function() {
    it("should return empty string if func is falsy", function() {
        jsc.assertForall("falsy", function(fn) {
>>>>>>> 96d1909df (deploy build)
            return functionName(fn) === "";
        });
    });

<<<<<<< HEAD
    it("should use displayName by default", function () {
        jsc.assertForall("nestring", function (displayName) {
=======
    it("should use displayName by default", function() {
        jsc.assertForall("nestring", function(displayName) {
>>>>>>> 96d1909df (deploy build)
            var fn = { displayName: displayName };

            return functionName(fn) === fn.displayName;
        });
    });

<<<<<<< HEAD
    it("should use name if displayName is not available", function () {
        jsc.assertForall("nestring", function (name) {
=======
    it("should use name if displayName is not available", function() {
        jsc.assertForall("nestring", function(name) {
>>>>>>> 96d1909df (deploy build)
            var fn = { name: name };

            return functionName(fn) === fn.name;
        });
    });

<<<<<<< HEAD
    it("should fallback to string parsing", function () {
        jsc.assertForall("nat", function (naturalNumber) {
            var name = `fn${naturalNumber}`;
            var fn = {
                toString: function () {
                    return `\nfunction ${name}`;
                },
=======
    it("should fallback to string parsing", function() {
        jsc.assertForall("nat", function(naturalNumber) {
            var name = "fn" + naturalNumber;
            var fn = {
                toString: function() {
                    return "\nfunction " + name;
                }
>>>>>>> 96d1909df (deploy build)
            };

            return functionName(fn) === name;
        });
    });

<<<<<<< HEAD
    it("should not fail when a name cannot be found", function () {
        refute.exception(function () {
            var fn = {
                toString: function () {
                    return "\nfunction (";
                },
=======
    it("should not fail when a name cannot be found", function() {
        refute.exception(function() {
            var fn = {
                toString: function() {
                    return "\nfunction (";
                }
>>>>>>> 96d1909df (deploy build)
            };

            functionName(fn);
        });
    });

<<<<<<< HEAD
    it("should not fail when toString is undefined", function () {
        refute.exception(function () {
=======
    it("should not fail when toString is undefined", function() {
        refute.exception(function() {
>>>>>>> 96d1909df (deploy build)
            functionName(Object.create(null));
        });
    });

<<<<<<< HEAD
    it("should not fail when toString throws", function () {
        refute.exception(function () {
=======
    it("should not fail when toString throws", function() {
        refute.exception(function() {
>>>>>>> 96d1909df (deploy build)
            var fn;
            try {
                // eslint-disable-next-line no-eval
                fn = eval("(function*() {})")().constructor;
            } catch (e) {
                // env doesn't support generators
                return;
            }

            functionName(fn);
        });
    });
});
